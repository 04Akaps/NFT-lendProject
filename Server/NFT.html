<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>

    <script>
        let y = 100;
     async function setup() {
        const cnv = createCanvas(400, 400);
        stroke(255); 
        frameRate(30);
        
        const random = Math.random() * (255 - 50) + 0;
        const random2 = Math.random() * (255 - 50) + 0;
        const random3 = Math.random() * (255 - 50) + 0;

        background(random, random2 , random3); 

        const leftFoot = Math.random() * (180 - 50) + 50;
        const rightFoot = Math.random() * (350 - 220) + 220;

        const leftArm = Math.random() * (240 - 120) + 120;
        const leftArmStart = 100;

        const rightArm = Math.random()* (240 - 120) + 120;
        const rightArmStart = 300;
        circle(200,80,80)
        line(200, 120, 200, 260) // 몸통

        line(200, 260, leftFoot, 360) // 다리 왼쪽4
        line(200, 260, rightFoot, 360)    // 다리 오른쪽

        line(200, 180, leftArmStart, leftArm) // 왼쪽 팔
        line(200, 180, rightArmStart, rightArm) // 오른쪽 팔

        await sendImg()
      }


      const sendImg = async() =>{

        const imgData = document.querySelectorAll(".p5Canvas");
        const imgBase64 = imgData[0].toDataURL('image/jpeg')
        // imgBase64를 보내 주어야 한다.

        axios.post("http://localhost:8080", {
          img : imgBase64
        })
      }
    </script>

<style>
  * {box-sizing: border-box;
  margin: 0px;
width: 100%;
height: 100%;
    display: flex;
    justify-content:  center;
    align-items: center;
}

head {
  display:  none;
}
</style>

</html>
